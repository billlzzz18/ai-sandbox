<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Framework UI</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .flame-graph { height: 200px; background: #eee; display: flex; align-items: center; justify-content: center; color: #666; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
        .toggle { margin: 10px 0; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const FlameGraph = () => <div className="flame-graph">Flame Graph Placeholder (Integrate Grafana/OTEL)</div>;

        const WorkflowDebugger = () => {
            const [step, setStep] = useState(0);
            const [io, setIo] = useState({ inputs: {}, outputs: {} });
            return (
                <div className="card">
                    <h3>Workflow Debugger</h3>
                    <p>Step: {step}</p>
                    <button onClick={() => setStep(step - 1)}>Previous</button>
                    <button onClick={() => setStep(step + 1)}>Next</button>
                    <button onClick={() => setIo({ inputs: {}, outputs: {} })}>Replay</button>
                    <pre>Inputs: {JSON.stringify(io.inputs, null, 2)}</pre>
                    <pre>Outputs: {JSON.stringify(io.outputs, null, 2)}</pre>
                </div>
            );
        };

        const PluginManager = () => {
            const [plugins, setPlugins] = useState([
                { name: "first-party-tool", enabled: true, scopes: "fs" },
                { name: "third-party-plugin", enabled: false, scopes: "net" }
            ]);
            return (
                <div className="card">
                    <h3>Plugin Manager</h3>
                    {plugins.map(p => (
                        <div key={p.name} className="toggle">
                            <label>{p.name} ({p.scopes})</label>
                            <input type="checkbox" checked={p.enabled} onChange={() => { /* Toggle */ }} />
                        </div>
                    ))}
                    <button>Save Audit Trail</button>
                </div>
            );
        };

        const CostDashboard = () => {
            const [budgets, setBudgets] = useState({ total: 100, used: 60, anomalies: [] });
            return (
                <div className="card">
                    <h3>Cost Dashboard</h3>
                    <p>Budget Used: {budgets.used}%</p>
                    <progress value={budgets.used} max={budgets.total}></progress>
                    <ul>{budgets.anomalies.map(a => <li key={a}>{a}</li>)}</ul>
                    <button onClick={() => alert('Alert Sent')}>Send Budget Alert</button>
                </div>
            );
        };

        const App = () => (
            <div>
                <h1>AI Agent Framework Dashboard</h1>
                <div className="dashboard">
                    <FlameGraph />
                    <WorkflowDebugger />
                    <PluginManager />
                    <CostDashboard />
                </div>
            </div>
        );

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>